{% extends "FOSUserBundle::layout.html.twig" %}


{% block title %}Krosmacarte - Extensions{% endblock %}

{% block fos_user_content %}

    <h3>Liste des extensions</h3>

    <a role="button" class="btn btn-success" href="{{ path('creation_extension') }}">Créer une Extension</a>

    <ul>
        {% for extension in extensions %}
            <fieldset>
                <legend><a href="{{ path('affichage_extension', { 'idExt': extension.id }) }}">{{ extension.nom }}</a></legend>
                Créée par {{ extension.createur }} le {{ extension.date | date('d/m/Y H:i:s') }}<br/>
                {{ extension.cartes|length }} cartes<br/>
                {% if app.user == extension.createur %}
                    <a role="button" class="btn btn-success" href="{{ path('creation_carte_ext', { 'idExt': extension.id }) }}">Ajouter une carte</a>
                    <a role="button" class="btn btn-danger" href="{{ path('supprimer_extension', { 'idExt': extension.id }) }}">Supprimer</a>
                {% endif %}
            </fieldset>

        {% endfor %}
    </ul>

{% endblock %}